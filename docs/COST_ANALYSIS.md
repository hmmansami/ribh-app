# üí∞ RIBH Cost Analysis - The $0 Stack

## Current Stack (EXPENSIVE)
| Service | Provider | Cost |
|---------|----------|------|
| AI Offers | OpenAI GPT-4o-mini | ~$0.15/1K tokens |
| SMS | Twilio | ~$0.05/SMS |
| Email | SendGrid | Free 100/day |
| WhatsApp | Meta Cloud API | 1000 free/mo, then $$ |

**Estimated monthly:** $50-200+ depending on volume

---

## üèÜ THE $0 STACK (RECOMMENDED)

### 1. AI Offers ‚Üí **Groq (FREE)**
| Model | RPD | TPD | Arabic | Notes |
|-------|-----|-----|--------|-------|
| **allam-2-7b** ‚≠ê | 7,000 | 500K | ‚úÖ NATIVE | Built for Arabic! |
| llama-3.3-70b-versatile | 1,000 | 100K | ‚ö†Ô∏è Basic | Good fallback |
| llama-3.1-8b-instant | 14,400 | 500K | ‚ö†Ô∏è Basic | High volume |

**Winner: allam-2-7b** - Arabic-native, 7000 requests/day FREE
- OpenAI-compatible API (easy migration!)
- Base URL: `https://api.groq.com/openai/v1`

### 2. SMS ‚Üí **SKIP ENTIRELY** üö´
| Provider | Cost | Notes |
|----------|------|-------|
| Twilio | $0.05/SMS | EXPENSIVE |
| Termii (Africa) | ~$0.02/SMS | Still costs |
| MSG91 (India) | ~$0.01/SMS | Still costs |

**Winner: NO SMS** - Use WhatsApp instead (FREE unlimited)
- SMS open rates: ~20%
- WhatsApp open rates: ~98%
- Why pay for worse results?

### 3. Email ‚Üí **Keep SendGrid Free Tier**
| Provider | Free Tier | Notes |
|----------|-----------|-------|
| SendGrid | 100/day | ‚úÖ Current |
| Resend | 100/day | Same |
| Mailgun | 100/day (3mo) | Expires |
| Store's Gmail | Unlimited | Best for deliverability |

**Winner: SendGrid (keep)** or **Store Owner's SMTP** (best deliverability)
- Emails from store's domain = no spam folder

### 4. WhatsApp ‚Üí **QR Bridge (FREE UNLIMITED)** üéâ
| Provider | Cost | Limits |
|----------|------|--------|
| Meta Cloud API | $0.05-0.15/msg | 1000 free/mo |
| **QR Bridge (Baileys)** | $0 | UNLIMITED |

**Winner: QR Bridge** - Already built at `/ribh-whatsapp/`
- Merchant scans QR once
- Unlimited messages forever
- Built-in anti-ban protection

---

## üìä Cost Comparison

| Scenario | Old Stack | $0 Stack | Savings |
|----------|-----------|----------|---------|
| 100 msgs/day | ~$30/mo | $0 | 100% |
| 500 msgs/day | ~$100/mo | $0 | 100% |
| 1000 msgs/day | ~$200/mo | $0 | 100% |

---

## üîß Implementation Changes

### offerGenerator.js
- Switch from OpenAI to Groq
- Use `allam-2-7b` for Arabic
- Fallback to `llama-3.1-8b-instant` if rate limited

### fallbackSender.js
- Remove Twilio SMS entirely
- Keep SendGrid as emergency fallback
- Primary channel: WhatsApp QR Bridge

### Message Priority
1. **WhatsApp** (FREE, 98% open rate) - PRIMARY
2. **Email** (FREE 100/day) - Fallback only
3. ~~SMS~~ (REMOVED - costs money)

---

## üéØ Final $0 Stack

| Service | Provider | Monthly Cost |
|---------|----------|--------------|
| AI | Groq (allam-2-7b) | $0 |
| WhatsApp | QR Bridge | $0 |
| Email | SendGrid Free | $0 |
| SMS | NONE | $0 |
| **TOTAL** | | **$0** |

---

## üîó Quick Links
- Groq Console: https://console.groq.com
- Groq Rate Limits: https://console.groq.com/settings/limits
- WhatsApp Bridge: `/home/ubuntu/clawd/ribh-whatsapp/`

---

*Generated by COST KILLER subagent | Money flows, costs don't.*
