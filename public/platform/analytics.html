<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª | Ø±ÙØ¨Ø­</title>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/platform/shared/shell.css">
</head>
<body>

<div id="page-content">
    <div class="page-header">
        <h1 class="page-title">Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª</h1>
        <p class="page-subtitle">Ø£Ø¯Ø§Ø¡ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ Ø§Ù„Ø´Ø®ØµÙŠ â€” ÙƒÙ„ Ø±Ù‚Ù… Ù…Ù‡Ù…</p>
    </div>

    <!-- Period Selector -->
    <div class="tabs">
        <button class="tab active" data-period="7d">7 Ø£ÙŠØ§Ù…</button>
        <button class="tab" data-period="30d">30 ÙŠÙˆÙ…</button>
        <button class="tab" data-period="90d">90 ÙŠÙˆÙ…</button>
        <button class="tab" data-period="all">Ø§Ù„ÙƒÙ„</button>
    </div>

    <!-- Revenue KPIs -->
    <div class="kpi-grid">
        <div class="kpi-card">
            <div class="kpi-label">ğŸ’° Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©</div>
            <div class="kpi-value text-success">12,450 Ø±.Ø³</div>
            <div class="kpi-change up">â†‘ 18% Ø¹Ù† Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-label">ğŸ“¨ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø±Ø³Ù„Ø©</div>
            <div class="kpi-value">1,847</div>
            <div class="kpi-change up">â†‘ 12%</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-label">ğŸ“– Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</div>
            <div class="kpi-value text-primary">91%</div>
            <div class="kpi-change up">â†‘ 3%</div>
        </div>
        <div class="kpi-card">
            <div class="kpi-label">ğŸ”— Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù†Ù‚Ø±</div>
            <div class="kpi-value">24%</div>
            <div class="kpi-change up">â†‘ 5%</div>
        </div>
    </div>

    <div class="grid-2">
        <!-- Revenue Chart -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©</div>
                <div class="text-sm text-dim">Ø¢Ø®Ø± 7 Ø£ÙŠØ§Ù…</div>
            </div>
            <div class="chart-container" id="revenueChart">
                <div class="bar-chart">
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø³Ø¨Øª</span><div class="bar-track"><div class="bar-fill" style="width: 45%"></div></div><span class="bar-val">1,200</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø£Ø­Ø¯</span><div class="bar-track"><div class="bar-fill" style="width: 62%"></div></div><span class="bar-val">1,680</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø§Ø«Ù†ÙŠÙ†</span><div class="bar-track"><div class="bar-fill" style="width: 38%"></div></div><span class="bar-val">980</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡</span><div class="bar-track"><div class="bar-fill" style="width: 78%"></div></div><span class="bar-val">2,100</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡</span><div class="bar-track"><div class="bar-fill" style="width: 55%"></div></div><span class="bar-val">1,480</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø®Ù…ÙŠØ³</span><div class="bar-track"><div class="bar-fill" style="width: 90%"></div></div><span class="bar-val">2,450</span></div>
                    <div class="bar-row"><span class="bar-label">Ø§Ù„Ø¬Ù…Ø¹Ø©</span><div class="bar-track"><div class="bar-fill" style="width: 85%"></div></div><span class="bar-val">2,310</span></div>
                </div>
            </div>
        </div>

        <!-- Channel Breakdown -->
        <div class="card">
            <div class="card-header">
                <div class="card-title">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù‚Ù†ÙˆØ§Øª</div>
            </div>
            <div class="channel-list">
                <div class="channel-item">
                    <div class="channel-info">
                        <div class="channel-dot" style="background: var(--success);"></div>
                        <span class="channel-name">ÙˆØ§ØªØ³Ø§Ø¨</span>
                    </div>
                    <div class="channel-stats">
                        <span class="channel-stat">1,420 Ø±Ø³Ø§Ù„Ø©</span>
                        <span class="channel-stat">98% ØªØ³Ù„ÙŠÙ…</span>
                        <span class="channel-stat">91% Ù‚Ø±Ø§Ø¡Ø©</span>
                    </div>
                    <div class="channel-bar-track"><div class="channel-bar" style="width: 77%; background: var(--success);"></div></div>
                </div>
                <div class="channel-item">
                    <div class="channel-info">
                        <div class="channel-dot" style="background: var(--info);"></div>
                        <span class="channel-name">SMS</span>
                    </div>
                    <div class="channel-stats">
                        <span class="channel-stat">427 Ø±Ø³Ø§Ù„Ø©</span>
                        <span class="channel-stat">96% ØªØ³Ù„ÙŠÙ…</span>
                        <span class="channel-stat">â€”</span>
                    </div>
                    <div class="channel-bar-track"><div class="channel-bar" style="width: 23%; background: var(--info);"></div></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Journey Performance -->
    <div class="card mt-24">
        <div class="card-header">
            <div class="card-title">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø±Ø­Ù„Ø§Øª</div>
            <a href="/platform/journeys.html" class="btn btn-ghost btn-sm">Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø­Ù„Ø§Øª</a>
        </div>
        <div class="table-wrap">
            <table>
                <thead>
                    <tr>
                        <th>Ø§Ù„Ø±Ø­Ù„Ø©</th>
                        <th>Ù…Ø±Ø³Ù„Ø©</th>
                        <th>ØªØ³Ù„ÙŠÙ…</th>
                        <th>Ù‚Ø±Ø§Ø¡Ø©</th>
                        <th>Ù†Ù‚Ø±</th>
                        <th>ØªØ­ÙˆÙŠÙ„</th>
                        <th>Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Ø§Ø³ØªØ±Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø§Øª</strong></td>
                        <td>542</td>
                        <td><span class="text-success">98%</span></td>
                        <td>89%</td>
                        <td>34%</td>
                        <td><span class="text-success">30%</span></td>
                        <td><strong class="text-success">8,450 Ø±.Ø³</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Ø±Ø­Ù„Ø© Ø§Ù„ØªØ±Ø­ÙŠØ¨</strong></td>
                        <td>267</td>
                        <td><span class="text-success">99%</span></td>
                        <td>94%</td>
                        <td>28%</td>
                        <td>12%</td>
                        <td><strong>2,100 Ø±.Ø³</strong></td>
                    </tr>
                    <tr>
                        <td><strong>Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡</strong></td>
                        <td>389</td>
                        <td><span class="text-success">98%</span></td>
                        <td>92%</td>
                        <td>18%</td>
                        <td>8%</td>
                        <td><strong>1,900 Ø±.Ø³</strong></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Segment Performance -->
    <div class="card mt-24">
        <div class="card-header">
            <div class="card-title">Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­</div>
            <a href="/platform/segments.html" class="btn btn-ghost btn-sm">Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø±Ø§Ø¦Ø­</a>
        </div>
        <div class="segment-perf-grid">
            <div class="segment-perf-card">
                <div class="segment-perf-name">ğŸ† Ø£Ø¨Ø·Ø§Ù„</div>
                <div class="segment-perf-value text-success">4,200 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 156 Ø¹Ù…ÙŠÙ„</div>
            </div>
            <div class="segment-perf-card">
                <div class="segment-perf-name">ğŸ’ Ø£ÙˆÙÙŠØ§Ø¡</div>
                <div class="segment-perf-value">3,890 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 312 Ø¹Ù…ÙŠÙ„</div>
            </div>
            <div class="segment-perf-card">
                <div class="segment-perf-name">â­ Ù…Ø­ØªÙ…Ù„ÙŠÙ†</div>
                <div class="segment-perf-value">2,450 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 245 Ø¹Ù…ÙŠÙ„</div>
            </div>
            <div class="segment-perf-card">
                <div class="segment-perf-name">ğŸ†• Ø¬Ø¯Ø¯</div>
                <div class="segment-perf-value">1,200 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 189 Ø¹Ù…ÙŠÙ„</div>
            </div>
            <div class="segment-perf-card">
                <div class="segment-perf-name">âš ï¸ Ù…Ø¹Ø±Ø¶ÙŠÙ†</div>
                <div class="segment-perf-value text-warning">580 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 134 Ø¹Ù…ÙŠÙ„</div>
            </div>
            <div class="segment-perf-card">
                <div class="segment-perf-name">ğŸ’¤ ØºØ§Ø¦Ø¨ÙŠÙ†</div>
                <div class="segment-perf-value text-danger">130 Ø±.Ø³</div>
                <div class="segment-perf-label">Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Â· 211 Ø¹Ù…ÙŠÙ„</div>
            </div>
        </div>
    </div>
</div>

<style>
    .bar-chart { display: flex; flex-direction: column; gap: 12px; }
    .bar-row { display: flex; align-items: center; gap: 12px; }
    .bar-label { font-size: 13px; color: var(--text-dim); width: 60px; text-align: left; flex-shrink: 0; }
    .bar-track { flex: 1; height: 24px; background: var(--bg-hover); border-radius: 6px; overflow: hidden; }
    .bar-fill { height: 100%; background: linear-gradient(135deg, #FBBF24, #F59E0B); border-radius: 6px; transition: width 0.5s; }
    .bar-val { font-size: 13px; font-weight: 600; width: 50px; text-align: right; flex-shrink: 0; }

    .channel-list { display: flex; flex-direction: column; gap: 20px; }
    .channel-item { }
    .channel-info { display: flex; align-items: center; gap: 8px; margin-bottom: 8px; }
    .channel-dot { width: 10px; height: 10px; border-radius: 50%; }
    .channel-name { font-size: 14px; font-weight: 600; }
    .channel-stats { display: flex; gap: 16px; margin-bottom: 8px; }
    .channel-stat { font-size: 13px; color: var(--text-dim); }
    .channel-bar-track { height: 6px; background: var(--bg-hover); border-radius: 3px; }
    .channel-bar { height: 100%; border-radius: 3px; transition: width 0.5s; }

    .segment-perf-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
    }
    .segment-perf-card {
        padding: 16px;
        background: var(--bg-elevated);
        border: 1px solid var(--border);
        border-radius: var(--radius-md);
        text-align: center;
    }
    .segment-perf-name { font-size: 14px; font-weight: 600; margin-bottom: 8px; }
    .segment-perf-value { font-size: 20px; font-weight: 800; margin-bottom: 4px; }
    .segment-perf-label { font-size: 12px; color: var(--text-faint); }

    @media (max-width: 768px) {
        .segment-perf-grid { grid-template-columns: 1fr 1fr; }
    }
</style>

<script src="/platform/shared/shell.js"></script>
<script>
    // Period tab switching
    document.querySelectorAll('.tab').forEach(function(tab) {
        tab.addEventListener('click', function() {
            document.querySelectorAll('.tab').forEach(function(t) { t.classList.remove('active'); });
            this.classList.add('active');
            // In production: reload data for selected period
        });
    });

    // Load real analytics data
    document.addEventListener('DOMContentLoaded', function() {
        RibhShell.api('/api/analytics/v2').then(function(data) {
            if (!data) return;
            // Update KPIs with real data when available
        }).catch(function() {
            // Use sample data
        });
    });
</script>

</body>
</html>
